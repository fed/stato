{"version":3,"file":"stato.js","sources":["../src/index.js"],"sourcesContent":["import Bacon from 'baconjs';\nimport flatten from 'lodash/flatten';\n\n// Store\nconst _busCache = {};\n\nexport class Store {\n  stream(name) {\n    return this.bus(name);\n  }\n\n  push(name, value) {\n    this.bus(name).push(value);\n  }\n\n  plug(name, value) {\n    this.bus(name).plug(value);\n  }\n\n  bus(name) {\n    return _busCache[name] = _busCache[name] || new Bacon.Bus();\n  }\n}\n\n// stato: bind Action Creators to Reducers\nexport default function stato(initialState, store, reducers, render) {\n  const actionTypes = Object.keys(reducers);\n  const boundActions = actionTypes.map((actionType) => {\n    return [[store.stream(actionType)], reducers[actionType]];\n  });\n\n  return Bacon\n    .update(\n      initialState,\n      ...flatten(boundActions)\n    )\n    .onValue((appState) => render(appState));\n}\n"],"names":["stato","initialState","store","reducers","render","boundActions","Object","keys","map","actionType","stream","Bacon","update","flatten","onValue","appState","_busCache","Store","name","this","bus","value","push","plug","Bus"],"mappings":"iGAyBA,SAAwBA,MAAMC,EAAcC,EAAOC,EAAUC,OAErDC,EADcC,OAAOC,KAAKJ,GACCK,IAAI,SAACC,WAC3BP,EAAMQ,OAAOD,IAAcN,EAASM,aAGxCE,MACJC,oBACCX,4BACGY,QAAQR,MAEZS,QAAQ,SAACC,UAAaX,EAAOW,grDAhC5BC,aAEOC,wGACJC,UACEC,KAAKC,IAAIF,gCAGbA,EAAMG,QACJD,IAAIF,GAAMI,KAAKD,gCAGjBH,EAAMG,QACJD,IAAIF,GAAMK,KAAKF,+BAGlBH,UACKF,UAAUE,GAAQF,UAAUE,IAAS,IAAIP,MAAMa"}